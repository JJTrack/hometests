(this.webpackJsonphometests=this.webpackJsonphometests||[]).push([[0],{119:function(t,a,e){t.exports=e(254)},124:function(t,a,e){},248:function(t,a,e){},254:function(t,a,e){"use strict";e.r(a);var n=e(0),s=e.n(n),r=e(25),i=e.n(r),c=(e(124),e(11)),o=e.n(c),l=e(42),u=e(15),d=e(16),h=e(18),m=e(17),p=e(43),f=e.n(p),v=e(37),b=function(t){Object(h.a)(e,t);var a=Object(m.a)(e);function e(t){var n;return Object(u.a)(this,e),(n=a.call(this,t)).chartReference={},n.state={chartData:{labels:n.props.time,datasets:[{label:"RSSI",data:n.props.rssi,backgroundColor:"rgba(255, 99, 132, 0.6)"}]}},n}return Object(d.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"chart"},s.a.createElement(v.Bar,{data:this.state.chartData,options:{maintainAspectRatio:!0,responsive:!0,scales:{yAxes:[{display:!0,ticks:{suggestedMax:90,suggestedMin:50}}]}}}))}}]),e}(n.Component),g=function(t){Object(h.a)(e,t);var a=Object(m.a)(e);function e(t){var n;return Object(u.a)(this,e),(n=a.call(this,t)).state={chartData:{labels:n.props.time,datasets:[{label:"Distance (m)",data:n.props.distance,backgroundColor:"rgba(255, 99, 132, 0.6)"},{label:"Filtered Distance (m)",data:n.props.kalman,backgroundColor:"rgba(99, 132, 255, 0.6)",borderColor:"rgba(99, 132, 255, 0.6)",fill:!1}]}},n}return Object(d.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"chart"},s.a.createElement(v.Line,{data:this.state.chartData,options:{maintainAspectRatio:!0,responsive:!0,scales:{yAxes:[{display:!0,ticks:{suggestedMax:5,beginAtZero:!0}}]}}}))}}]),e}(n.Component),w=e(61),k=e(224),O={x:0,y:0,r:0},y={x:4.9,y:0,r:0},E={x:4.9,y:4.9,r:0},S=[O,y,E],x=function(t){Object(h.a)(e,t);var a=Object(m.a)(e);function e(t){var n;return Object(u.a)(this,e),(n=a.call(this,t)).drawNodesAndBeacons=function(t,a){var e=t.getContext("2d");e.clearRect(0,0,n.state.canvasSize.canvasWidth,n.state.canvasSize.canvasHeight),a.forEach((function(t){e.fillStyle="rgba(255, 0, 50, 0.7)",e.fillRect(200*t.x,200*t.y,20,20)}));var s=n.getCalculation(n.props.r1,n.props.r2,n.props.r3),r=Object(w.a)(s,2),i=r[0],c=r[1];e.fillStyle="rgba(100, 0, 200, 0.7)",e.fillRect(200*c,200*i,20,20);var o=n.getCalculation(2.14,2.08,2.14),l=Object(w.a)(o,2);i=l[0],c=l[1],e.fillStyle="rgba(0, 200, 200, 0.7)",e.fillRect(200*c,200*i,20,20),"off"==n.state.radiusState&&n.drawRadiuses(e)},n.getCalculation=function(t,a,e){var n=[[O.x,O.y,t],[y.x,y.y,a],[E.x,E.y,e]],s=k(n);return console.log("x: ",s[0]," y: ",s[1],t,a,e),s},n.toggleRadius=function(){n.setState({radiusState:"on"==n.state.radiusState?"off":"on"})},n.state={radiusState:"on"},n}return Object(d.a)(e,[{key:"componentWillMount",value:function(){this.setState({canvasSize:{canvasWidth:1e3,canvasHeight:1e3}})}},{key:"componentDidMount",value:function(){var t=this.state.canvasSize,a=t.canvasWidth,e=t.canvasHeight;this.canvasMap.width=a,this.canvasMap.height=e,this.drawNodesAndBeacons(this.canvasMap,S)}},{key:"componentDidUpdate",value:function(){O.r=this.props.r1,y.r=this.props.r2,E.r=this.props.r3,this.drawNodesAndBeacons(this.canvasMap,S)}},{key:"drawRadiuses",value:function(t){S.forEach((function(a){t.beginPath(),t.arc(200*a.x,200*a.y,200*a.r,0,2*Math.PI,!1),t.strokeStyle="rgba(100, 0, 200, 0.8)",t.fillStyle="rgba(100, 0, 200, 0.1)",t.stroke(),t.fill(),t.closePath()}))}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"chart"},s.a.createElement("canvas",{ref:function(a){return t.canvasMap=a},className:"Map"}," "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitches",onChange:this.toggleRadius}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customSwitches"},"Turn radius ",this.state.radiusState)))}}]),e}(n.Component),j=e(258),M=e(257),T=e(44),R=(e(248),e(249),function(t){Object(h.a)(e,t);var a=Object(m.a)(e);function e(t){var n;return Object(u.a)(this,e),(n=a.call(this,t)).state={folder:"TestThree",dataZero:{rssi:[],time:[],distance:[],kalman:[]},dataOne:{rssi:[],time:[],distance:[],kalman:[]},dataTwo:{rssi:[],time:[],distance:[],kalman:[]},r1:2,r2:2,r3:2},n}return Object(d.a)(e,[{key:"componentWillMount",value:function(){var t=this;Object(T.a)("data/".concat(this.state.folder,"/data0.csv")).then(function(){var a=Object(l.a)(o.a.mark((function a(e){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,e.forEach((function(a){t.state.dataZero.rssi.push(a.RSSI),t.state.dataZero.time.push(a.TIME);var e=new f.a({R:1e-5,Q:3});t.state.dataZero.rssi.map((function(a){var n=(-50- -1*parseInt(a,10))/9;t.state.dataZero.distance.push(Math.exp(n)),t.state.dataZero.kalman.push(e.filter(Math.exp(n)))}))}));case 3:n=t.state.dataZero.kalman.reduce((function(t,a){return t+a}),0),t.setState({r1:n/t.state.dataZero.distance.length});case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),Object(T.a)("data/".concat(this.state.folder,"/data1.csv")).then(function(){var a=Object(l.a)(o.a.mark((function a(e){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.forEach((function(a){t.state.dataOne.rssi.push(a.RSSI),t.state.dataOne.time.push(a.TIME);var e=new f.a({R:1e-5,Q:10});t.state.dataOne.rssi.map((function(a){var n=(-50- -1*parseInt(a,10))/9;t.state.dataOne.distance.push(Math.exp(n)),t.state.dataOne.kalman.push(e.filter(Math.exp(n)))}))}));case 2:n=t.state.dataOne.kalman.reduce((function(t,a){return t+a}),0),t.setState({r2:n/t.state.dataOne.distance.length});case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),Object(T.a)("data/".concat(this.state.folder,"/data2.csv")).then(function(){var a=Object(l.a)(o.a.mark((function a(e){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.forEach((function(a){t.state.dataTwo.rssi.push(a.RSSI),t.state.dataTwo.time.push(a.TIME);var e=new f.a({R:1e-5,Q:10});t.state.dataTwo.rssi.map((function(a){var n=(-50- -1*parseInt(a,10))/9;t.state.dataTwo.distance.push(Math.exp(n)),t.state.dataTwo.kalman.push(e.filter(Math.exp(n)))}))}));case 2:n=t.state.dataTwo.kalman.reduce((function(t,a){return t+a}),0),t.setState({r3:n/t.state.dataTwo.distance.length});case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(j.a,{defaultActiveKey:"map",id:"uncontrolled-tab-example"},s.a.createElement(M.a,{eventKey:"nodeZero",title:"Node Zero"},s.a.createElement(b,{time:this.state.dataZero.time,rssi:this.state.dataZero.rssi}),s.a.createElement(g,{time:this.state.dataZero.time,distance:this.state.dataZero.distance,kalman:this.state.dataZero.kalman})),s.a.createElement(M.a,{eventKey:"nodeOne",title:"Node One"},s.a.createElement(b,{time:this.state.dataOne.time,rssi:this.state.dataOne.rssi}),s.a.createElement(g,{time:this.state.dataOne.time,distance:this.state.dataOne.distance,kalman:this.state.dataOne.kalman})),s.a.createElement(M.a,{eventKey:"nodeTwo",title:"Node Two"},s.a.createElement(b,{time:this.state.dataTwo.time,rssi:this.state.dataTwo.rssi}),s.a.createElement(g,{time:this.state.dataTwo.time,distance:this.state.dataTwo.distance,kalman:this.state.dataTwo.kalman})),s.a.createElement(M.a,{eventKey:"map",title:"Map"},s.a.createElement(x,{r1:this.state.r1,r2:this.state.r2,r3:this.state.r3}))))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[119,1,2]]]);
//# sourceMappingURL=main.82b5bdf3.chunk.js.map