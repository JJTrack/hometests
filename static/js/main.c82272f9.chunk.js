(this.webpackJsonphometests=this.webpackJsonphometests||[]).push([[0],{139:function(t,a,e){t.exports=e(324)},144:function(t,a,e){},318:function(t,a,e){},324:function(t,a,e){"use strict";e.r(a);var n=e(0),r=e.n(n),s=e(31),o=e.n(s),c=(e(144),e(4)),i=e.n(c),u=e(14),d=e(18),l=e(19),h=e(21),p=e(20),f=e(52),m=e.n(f),v=e(26),w=e.n(v),b=e(47),k=function(t){Object(h.a)(e,t);var a=Object(p.a)(e);function e(t){var n;return Object(d.a)(this,e),(n=a.call(this,t)).chartReference={},n.state={chartData:{labels:n.props.time,datasets:[{label:"RSSI",data:n.props.rssi,backgroundColor:"rgba(255, 99, 132, 0.6)"}]}},n}return Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"chart"},r.a.createElement(b.Bar,{data:this.state.chartData,options:{maintainAspectRatio:!0,responsive:!0,scales:{yAxes:[{display:!0,ticks:{suggestedMax:90,suggestedMin:50}}]}}}))}}]),e}(n.Component),O=function(t){Object(h.a)(e,t);var a=Object(p.a)(e);function e(t){var n;return Object(d.a)(this,e),(n=a.call(this,t)).state={chartData:{labels:n.props.time,datasets:[{label:"Distance (m)",data:n.props.distance,backgroundColor:"rgba(255, 99, 132, 0.6)"},{label:"Winsor (m)",data:n.props.winsor,backgroundColor:"rgba(99, 132, 255, 0.6)",borderColor:"rgba(99, 255, 55, 0.6)",fill:!1},{label:"Henderson (m)",data:n.props.henderson,backgroundColor:"rgba(255, 132, 255, 0.6)",borderColor:"rgba(255, 255, 55, 0.6)",fill:!1},{label:"Kalman (m)",data:n.props.kalman,backgroundColor:"rgba(99, 132, 255, 0.6)",borderColor:"rgba(99, 132, 255, 0.6)",fill:!1}]}},n}return Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"chart"},r.a.createElement(b.Line,{data:this.state.chartData,options:{maintainAspectRatio:!0,responsive:!0,scales:{yAxes:[{display:!0,ticks:{suggestedMax:5,beginAtZero:!0}}]}}}))}}]),e}(n.Component),y=e(115),g=e(294),E={x:0,y:0,r:0},x={x:4.9,y:0,r:0},S={x:4.9,y:4.9,r:0},j=[E,x,S],M=function(t){Object(h.a)(e,t);var a=Object(p.a)(e);function e(t){var n;return Object(d.a)(this,e),(n=a.call(this,t)).drawNodesAndBeacons=function(t,a){var e=t.getContext("2d");e.clearRect(0,0,n.state.canvasSize.canvasWidth,n.state.canvasSize.canvasHeight),a.forEach((function(t){e.fillStyle="rgba(255, 0, 50, 0.7)",e.fillRect(200*t.x,200*t.y,20,20)}));var r=n.getCalculation(n.props.r1,n.props.r2,n.props.r3),s=Object(y.a)(r,2),o=s[0],c=s[1];e.fillStyle="rgba(100, 0, 200, 0.7)",e.fillRect(200*o,200*c,20,20),e.fillStyle="rgba(0, 200, 200, 0.7)",e.fillRect(600,400,20,20),"off"==n.state.radiusState&&n.drawRadiuses(e)},n.getCalculation=function(t,a,e){var n=[[E.x,E.y,t],[x.x,x.y,a],[S.x,S.y,e],[x.x,x.y,a]],r=g(n);return console.log("x: ",r[0]," y: ",r[1],t,a,e),r},n.toggleRadius=function(){n.setState({radiusState:"on"==n.state.radiusState?"off":"on"})},n.state={radiusState:"on"},n}return Object(l.a)(e,[{key:"componentWillMount",value:function(){this.setState({canvasSize:{canvasWidth:1e3,canvasHeight:1e3}})}},{key:"componentDidMount",value:function(){var t=this.state.canvasSize,a=t.canvasWidth,e=t.canvasHeight;this.canvasMap.width=a,this.canvasMap.height=e,this.drawNodesAndBeacons(this.canvasMap,j)}},{key:"componentDidUpdate",value:function(){E.r=this.props.r1,x.r=this.props.r2,S.r=this.props.r3,this.drawNodesAndBeacons(this.canvasMap,j)}},{key:"drawRadiuses",value:function(t){j.forEach((function(a){t.beginPath(),t.arc(200*a.x,200*a.y,200*a.r,0,2*Math.PI,!1),t.strokeStyle="rgba(100, 0, 200, 0.8)",t.fillStyle="rgba(100, 0, 200, 0.1)",t.stroke(),t.fill(),t.closePath()}))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"chart"},r.a.createElement("canvas",{ref:function(a){return t.canvasMap=a},className:"Map"}," "),r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitches",onChange:this.toggleRadius}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customSwitches"},"Turn radius ",this.state.radiusState)))}}]),e}(n.Component),T=e(328),Z=e(327),R=e(53),C=(e(318),e(319),function(t){Object(h.a)(e,t);var a=Object(p.a)(e);function e(t){var n;return Object(d.a)(this,e),(n=a.call(this,t)).state={folder:"5m/threextwo",dataZero:{rssi:[],time:[],distance:[],winsor:[],henderson:[],kalman:[]},dataOne:{rssi:[],time:[],distance:[],winsor:[],henderson:[],kalman:[]},dataTwo:{rssi:[],time:[],distance:[],winsor:[],henderson:[],kalman:[]},r1:2,r2:2,r3:2},n}return Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;Object(R.a)("".concat("/hometests","/data/").concat(this.state.folder,"/data0.csv")).then(function(){var a=Object(u.a)(i.a.mark((function a(e){var n,r,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.forEach((function(a){t.state.dataZero.rssi.push(a.RSSI),t.state.dataZero.time.push(a.TIME),t.state.dataZero.rssi.map((function(a){var e=(-58- -1*parseInt(a,10))/20;t.state.dataZero.distance.push(Math.exp(e))}))}));case 2:return(0,w.a.winsorize)(t.state.dataZero.distance,.01,!1).forEach((function(a){t.state.dataZero.winsor.push(a)})),a.next=6,w.a.smooth(t.state.dataZero.winsor,{policy:"H23-MA"});case 6:(n=a.sent).forEach(function(){var a=Object(u.a)(i.a.mark((function a(e){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.state.dataZero.henderson.push(e);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),r=new m.a({R:1e-5,Q:3}),n.forEach(function(){var a=Object(u.a)(i.a.mark((function a(e){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.state.dataZero.kalman.push(r.filter(e));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),s=t.state.dataZero.kalman.reduce((function(t,a){return t+a}),0),t.setState({r1:s/t.state.dataZero.kalman.length});case 12:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),Object(R.a)("".concat("/hometests","/data/").concat(this.state.folder,"/data1.csv")).then(function(){var a=Object(u.a)(i.a.mark((function a(e){var n,r,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.forEach((function(a){t.state.dataOne.rssi.push(a.RSSI),t.state.dataOne.time.push(a.TIME),t.state.dataOne.rssi.map((function(a){var e=(-58- -1*parseInt(a,10))/20;t.state.dataOne.distance.push(Math.exp(e))}))}));case 2:return(0,w.a.winsorize)(t.state.dataOne.distance,.01,!1).forEach((function(a){t.state.dataOne.winsor.push(a)})),a.next=6,w.a.smooth(t.state.dataOne.winsor,{policy:"H23-MA"});case 6:(n=a.sent).forEach(function(){var a=Object(u.a)(i.a.mark((function a(e){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.state.dataOne.henderson.push(e);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),r=new m.a({R:1e-5,Q:3}),n.forEach(function(){var a=Object(u.a)(i.a.mark((function a(e){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.state.dataOne.kalman.push(r.filter(e));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),s=t.state.dataOne.kalman.reduce((function(t,a){return t+a}),0),t.setState({r1:s/t.state.dataOne.kalman.length});case 12:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),Object(R.a)("".concat("/hometests","/data/").concat(this.state.folder,"/data2.csv")).then(function(){var a=Object(u.a)(i.a.mark((function a(e){var n,r,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.forEach((function(a){t.state.dataTwo.rssi.push(a.RSSI),t.state.dataTwo.time.push(a.TIME),t.state.dataTwo.rssi.map((function(a){var e=(-58- -1*parseInt(a,10))/20;t.state.dataTwo.distance.push(Math.exp(e))}))}));case 2:return(0,w.a.winsorize)(t.state.dataOne.distance,.01,!1).forEach((function(a){t.state.dataTwo.winsor.push(a)})),a.next=6,w.a.smooth(t.state.dataTwo.winsor,{policy:"H23-MA"});case 6:(n=a.sent).forEach(function(){var a=Object(u.a)(i.a.mark((function a(e){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.state.dataTwo.henderson.push(e);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),r=new m.a({R:1e-5,Q:3}),n.forEach(function(){var a=Object(u.a)(i.a.mark((function a(e){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.state.dataTwo.kalman.push(r.filter(e));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),s=t.state.dataTwo.kalman.reduce((function(t,a){return t+a}),0),t.setState({r1:s/t.state.dataTwo.kalman.length});case 12:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T.a,{defaultActiveKey:"map",id:"uncontrolled-tab-example"},r.a.createElement(Z.a,{eventKey:"nodeZero",title:"Node Zero"},r.a.createElement(k,{time:this.state.dataZero.time,rssi:this.state.dataZero.rssi}),r.a.createElement(O,{time:this.state.dataZero.time,distance:this.state.dataZero.distance,kalman:this.state.dataZero.kalman,winsor:this.state.dataZero.winsor,henderson:this.state.dataZero.henderson})),r.a.createElement(Z.a,{eventKey:"nodeOne",title:"Node One"},r.a.createElement(k,{time:this.state.dataOne.time,rssi:this.state.dataOne.rssi}),r.a.createElement(O,{time:this.state.dataOne.time,distance:this.state.dataOne.distance,kalman:this.state.dataOne.kalman,winsor:this.state.dataOne.winsor,henderson:this.state.dataOne.henderson})),r.a.createElement(Z.a,{eventKey:"nodeTwo",title:"Node Two"},r.a.createElement(k,{time:this.state.dataTwo.time,rssi:this.state.dataTwo.rssi}),r.a.createElement(O,{time:this.state.dataTwo.time,distance:this.state.dataTwo.distance,kalman:this.state.dataTwo.kalman,winsor:this.state.dataTwo.winsor,henderson:this.state.dataTwo.henderson})),r.a.createElement(Z.a,{eventKey:"map",title:"Map"},r.a.createElement(M,{r1:this.state.r1,r2:this.state.r2,r3:this.state.r3})),r.a.createElement("h1",null," Version 1")))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.c82272f9.chunk.js.map